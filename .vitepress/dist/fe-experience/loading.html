<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>로딩 중인데 NoData가 먼저 보여요 :React Query 로딩 처리 | OMG WORLD</title>
    <meta name="description" content="study">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.D2S8aI5d.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BURA65cZ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DA_LWI8i.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DPDPlp3K.js">
    <link rel="modulepreload" href="/assets/fe-experience_loading.md.BGLujkrj.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-09accb63><!--[--><!--]--><!--[--><span tabindex="-1" data-v-def42305></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-def42305>Skip to content</a><!--]--><!----><header class="VPNav" data-v-09accb63 data-v-f7278a59><div class="VPNavBar" data-v-f7278a59 data-v-393c968d><div class="wrapper" data-v-393c968d><div class="container" data-v-393c968d><div class="title" data-v-393c968d><div class="VPNavBarTitle has-sidebar" data-v-393c968d data-v-29ab7144><a class="title" href="/" data-v-29ab7144><!--[--><!--]--><!----><span data-v-29ab7144>OMG WORLD</span><!--[--><!--]--></a></div></div><div class="content" data-v-393c968d><div class="content-body" data-v-393c968d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-393c968d><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-393c968d data-v-dc692c8e><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692c8e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/career.html" tabindex="0" data-v-dc692c8e data-v-76cb4a4f><!--[--><span data-v-76cb4a4f>ABOUT✨ME</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-393c968d data-v-63e91275><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-63e91275 data-v-033681f2 data-v-77bd6c42><span class="check" data-v-77bd6c42><span class="icon" data-v-77bd6c42><!--[--><span class="vpi-sun sun" data-v-033681f2></span><span class="vpi-moon moon" data-v-033681f2></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-393c968d data-v-aeb86684 data-v-c5591831><!--[--><a class="VPSocialLink no-icon" href="https://github.com/min-ji-oh" aria-label="github" target="_blank" rel="noopener" data-v-c5591831 data-v-c9047124><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-393c968d data-v-bd07bf2f data-v-336d6671><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-336d6671><span class="vpi-more-horizontal icon" data-v-336d6671></span></button><div class="menu" data-v-336d6671><div class="VPMenu" data-v-336d6671 data-v-785f6746><!----><!--[--><!--[--><!----><div class="group" data-v-bd07bf2f><div class="item appearance" data-v-bd07bf2f><p class="label" data-v-bd07bf2f>Appearance</p><div class="appearance-action" data-v-bd07bf2f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bd07bf2f data-v-033681f2 data-v-77bd6c42><span class="check" data-v-77bd6c42><span class="icon" data-v-77bd6c42><!--[--><span class="vpi-sun sun" data-v-033681f2></span><span class="vpi-moon moon" data-v-033681f2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bd07bf2f><div class="item social-links" data-v-bd07bf2f><div class="VPSocialLinks social-links-list" data-v-bd07bf2f data-v-c5591831><!--[--><a class="VPSocialLink no-icon" href="https://github.com/min-ji-oh" aria-label="github" target="_blank" rel="noopener" data-v-c5591831 data-v-c9047124><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-393c968d data-v-59574699><span class="container" data-v-59574699><span class="top" data-v-59574699></span><span class="middle" data-v-59574699></span><span class="bottom" data-v-59574699></span></span></button></div></div></div></div><div class="divider" data-v-393c968d><div class="divider-line" data-v-393c968d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-09accb63 data-v-df74a8e3><div class="container" data-v-df74a8e3><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-df74a8e3><span class="vpi-align-left menu-icon" data-v-df74a8e3></span><span class="menu-text" data-v-df74a8e3>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-df74a8e3 data-v-8aee46a0><button data-v-8aee46a0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-09accb63 data-v-34be0a91><div class="curtain" data-v-34be0a91></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-34be0a91><span class="visually-hidden" id="sidebar-aria-label" data-v-34be0a91> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-3b4e7bf7><section class="VPSidebarItem level-0" data-v-3b4e7bf7 data-v-470d45bd><div class="item" role="button" tabindex="0" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><h2 class="text" data-v-470d45bd>코드 잘짜기!</h2><!----></div><div class="items" data-v-470d45bd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/clean-code.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>Clean</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3b4e7bf7><section class="VPSidebarItem level-0" data-v-3b4e7bf7 data-v-470d45bd><div class="item" role="button" tabindex="0" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><h2 class="text" data-v-470d45bd>모던리액트딥다이브</h2><!----></div><div class="items" data-v-470d45bd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/modern/state.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>리액트와 상태 관리 라이브러리</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/modern/render.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>React 랜더링</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/modern/reflow.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>Reflow와 Repaint</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/modern/destructure.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>구조 분해 할당</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/modern/serverside.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>서버사이드</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/modern/web-vitals.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>웹성능지표</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3b4e7bf7><section class="VPSidebarItem level-0 has-active" data-v-3b4e7bf7 data-v-470d45bd><div class="item" role="button" tabindex="0" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><h2 class="text" data-v-470d45bd>FE 적응기</h2><!----></div><div class="items" data-v-470d45bd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/fe-experience/img.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>next/image가 문제였다고요?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/fe-experience/layout.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>layout 영향 없이 페이지 만들기</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/fe-experience/loading.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>React Query 로딩 처리</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-470d45bd data-v-470d45bd><div class="item" data-v-470d45bd><div class="indicator" data-v-470d45bd></div><a class="VPLink link link" href="/fe-experience/accessibility.html" data-v-470d45bd><!--[--><p class="text" data-v-470d45bd>웹접근성</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-09accb63 data-v-9a277d40><div class="VPDoc has-sidebar has-aside" data-v-9a277d40 data-v-72aaf74d><!--[--><!--]--><div class="container" data-v-72aaf74d><div class="aside" data-v-72aaf74d><div class="aside-curtain" data-v-72aaf74d></div><div class="aside-container" data-v-72aaf74d><div class="aside-content" data-v-72aaf74d><div class="VPDocAside" data-v-72aaf74d data-v-d140d4c5><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-d140d4c5 data-v-cb4feb8d><div class="content" data-v-cb4feb8d><div class="outline-marker" data-v-cb4feb8d></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-cb4feb8d>On this page</div><ul class="VPDocOutlineItem root" data-v-cb4feb8d data-v-6b452e03><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-d140d4c5></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-72aaf74d><div class="content-container" data-v-72aaf74d><!--[--><!--]--><main class="main" data-v-72aaf74d><div style="position:relative;" class="vp-doc _fe-experience_loading" data-v-72aaf74d><div><h1 id="로딩-중인데-nodata가-먼저-보여요-react-query-로딩-처리" tabindex="-1">로딩 중인데 NoData가 먼저 보여요 :React Query 로딩 처리 <a class="header-anchor" href="#로딩-중인데-nodata가-먼저-보여요-react-query-로딩-처리" aria-label="Permalink to &quot;로딩 중인데 NoData가 먼저 보여요 :React Query 로딩 처리&quot;">​</a></h1><p>최근 React Query를 사용하는 화면에서 데이터 로딩 중인데도 NoData 컴포넌트가 먼저 렌더링되는 문제를 겪었어요. 사용자 입장에서는 &quot;로딩 중&quot;이 아니라 &quot;진짜로 데이터가 없는 것처럼&quot; 보이기 때문에, UX에 혼란을 줄 수 있었어요.</p><p>처음엔 isLoading을 기준으로 로딩 여부를 판단했지만, 생각보다 예상치 못한 동작이 자주 발생했어요. 그래서 React Query의 status 값을 함께 확인하면서 문제를 해결할 수 있었어요.</p><h2 id="문제-상황-–-로딩인데-nodata-컴포넌트가-먼저-나왔어요" tabindex="-1">문제 상황 – 로딩인데 NoData 컴포넌트가 먼저 나왔어요 <a class="header-anchor" href="#문제-상황-–-로딩인데-nodata-컴포넌트가-먼저-나왔어요" aria-label="Permalink to &quot;문제 상황 – 로딩인데 NoData 컴포넌트가 먼저 나왔어요&quot;">​</a></h2><p>기존에는 아래 코드와 같이 로딩 상태를 처리하고 있었어요:</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isLoading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], fetchUsers);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (isLoading) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NoData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ProductList</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> users</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} /&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>처음에는 잘 작동하는 듯했지만, 특정 조건에서 isLoading이 false이고 data도 undefined인 경우가 있었어요. 이런 상황에서 <code>&lt;NoData /&gt;</code>가 먼저 보여지고, 바로 이어서 다시 <code>&lt;ProductList /&gt;</code>가 뜨는 일이 발생했어요. 결과적으로는 로딩 상태를 정확히 인식하지 못한 조건 분기가 문제였어요.</p><h2 id="원인-–-isloading만으로는-충분하지-않았어요" tabindex="-1">원인 – isLoading만으로는 충분하지 않았어요 <a class="header-anchor" href="#원인-–-isloading만으로는-충분하지-않았어요" aria-label="Permalink to &quot;원인 – isLoading만으로는 충분하지 않았어요&quot;">​</a></h2><p>React Query에서는 isLoading 외에도 status, isFetching, isSuccess, isError 등 다양한 상태 값을 제공해요. isLoading은 일반적으로 첫 번째 요청일 때만 true가 되지만, 캐시 상태나 리페치 전략에 따라 정확한 시점을 잡기 어려울 수 있어요.</p><p>❗️isLoading만을 기준으로 로딩 상태를 판단하면 아직 데이터를 받지 못했지만 isLoading이 false인 상태를 처리하지 못할 수 있어요.</p><details class="details custom-block"><summary>🔍 왜 isLoading이 true일 때 data가 undefined일까?</summary><p>React Query에서 useQuery()를 처음 호출하면 기본적으로 아직 데이터를 받아오지 않았기 때문에 data는 undefined 상태예요.</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isLoading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], fetchUsers);</span></span></code></pre></div><p>이 시점에서 React Query는 아직 fetchUsers() 요청을 보내는 중이고, 응답이 오지 않았기 때문에 data는 존재하지 않아요.</p><p>초기상태:</p><ul><li>isLoading: true</li><li>data: undefined</li><li>status: &#39;pending&#39;</li></ul><p>이 상태에서 data.length 같은 코드를 실행하면 JS 입장에선 &quot;undefined에 length 속성이 없다&quot;고 판단해서 오류는 아니지만, false 또는 undefined로 처리될 수 있어요. 그래서 조건문에서 !data || data.length === 0 이런 식으로 걸어두면, 아직 로딩 중인데도 빈 데이터 상태로 오인할 수 있는 거죠.</p><table tabindex="0"><thead><tr><th>상태</th><th>data 값</th><th>isLoading</th><th>status</th><th>설명</th></tr></thead><tbody><tr><td>초기 로딩 중</td><td>undefined</td><td>true</td><td>&#39;pending&#39;</td><td>데이터 요청 중</td></tr><tr><td>로딩 성공 (데이터 O)</td><td><code>[...]</code></td><td>false</td><td>&#39;success&#39;</td><td>정상 응답</td></tr><tr><td>로딩 성공 (데이터 X)</td><td><code>[]</code></td><td>false</td><td>&#39;success&#39;</td><td>응답은 왔지만 데이터 없음</td></tr><tr><td>에러 발생</td><td>undefined</td><td>false</td><td>&#39;error&#39;</td><td>요청 실패</td></tr></tbody></table></details><h2 id="해결" tabindex="-1">해결 <a class="header-anchor" href="#해결" aria-label="Permalink to &quot;해결&quot;">​</a></h2><p>React Query의 status는 &#39;pending&#39; | &#39;success&#39; | &#39;error&#39; 중 하나의 값을 가지기 때문에, 이를 함께 사용해서 명확하게 조건을 나눴어요.</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isLoading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], fetchUsers);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isLoading) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NoData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ProductList</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> users</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} /&gt;;</span></span></code></pre></div><p>isLoading || status === &#39;pending&#39;보다는 status === &#39;pending&#39;만 단독적으로 사용하는 방식이 더 명확하고 디버깅하기도 쉬울거같기도 해요.</p><h2 id="추가-내용-–-suspense를-사용하는-경우" tabindex="-1">추가 내용 – suspense를 사용하는 경우 <a class="header-anchor" href="#추가-내용-–-suspense를-사용하는-경우" aria-label="Permalink to &quot;추가 내용 – suspense를 사용하는 경우&quot;">​</a></h2><p>React Query에서 suspense: true 옵션을 사용한다면 로딩 처리는 <code>&lt;Suspense&gt;</code>로 감싸서 처리할 수도 있어요.</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 컴포넌트에서</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Suspense</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fallback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ProductListPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Suspense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>이 방식은 더 깔끔하고 선언적이지만, 일부 상황에서는 유연하게 상태를 나누기 어려울 수도 있기 때문에 선택적으로 사용하면 좋아요.</p><h2 id="마무리하며" tabindex="-1">마무리하며 <a class="header-anchor" href="#마무리하며" aria-label="Permalink to &quot;마무리하며&quot;">​</a></h2><p>React Query는 정말 강력한 도구이지만, 상태 관리를 섬세하게 하지 않으면 의도치 않은 UI가 렌더링되기도 한다는 것을 주의 해야해요. 이번 경험을 통해 단순히 isLoading만 보는 것보다는 status를 함께 활용하는 것이 훨씬 명확하고 안정적이라는 걸 알게 되었어요.</p><p>특히 초기 로딩과 빈 데이터 상태를 구분할 수 있게 되는 것만으로도 사용자 경험이 훨씬 깔끔해졌어요.</p></div></div></main><footer class="VPDocFooter" data-v-72aaf74d data-v-ae05b366><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-ae05b366><span class="visually-hidden" id="doc-footer-aria-label" data-v-ae05b366>Pager</span><div class="pager" data-v-ae05b366><a class="VPLink link pager-link prev" href="/fe-experience/layout.html" data-v-ae05b366><!--[--><span class="desc" data-v-ae05b366>Previous page</span><span class="title" data-v-ae05b366>layout 영향 없이 페이지 만들기</span><!--]--></a></div><div class="pager" data-v-ae05b366><a class="VPLink link pager-link next" href="/fe-experience/accessibility.html" data-v-ae05b366><!--[--><span class="desc" data-v-ae05b366>Next page</span><span class="title" data-v-ae05b366>웹접근성</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"DSHCdOVk\",\"career_index.md\":\"KDDmpXny\",\"clean-code.md\":\"CF5G3JyU\",\"fe-experience_accessibility.md\":\"Fktc0RzC\",\"fe-experience_img.md\":\"DpOtVUA5\",\"fe-experience_layout.md\":\"hGlGBJoj\",\"fe-experience_loading.md\":\"BGLujkrj\",\"index.md\":\"AEe3pyj3\",\"markdown-examples.md\":\"BcQMOApi\",\"modern_destructure.md\":\"Cl5atd5R\",\"modern_index.md\":\"BcyJa99i\",\"modern_reflow.md\":\"4G5yLeg2\",\"modern_render.md\":\"B0NX3WZ_\",\"modern_serverside.md\":\"CX3hpFPg\",\"modern_state.md\":\"B_6Af21A\",\"modern_web-vitals.md\":\"Bfxlk_BN\",\"readme.md\":\"CGYLL9QC\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OMG WORLD\",\"description\":\"study\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"ABOUT✨ME\",\"link\":\"/career\"}],\"sidebar\":[{\"text\":\"코드 잘짜기!\",\"items\":[{\"text\":\"Clean\",\"link\":\"/clean-code\"}]},{\"text\":\"모던리액트딥다이브\",\"items\":[{\"text\":\"리액트와 상태 관리 라이브러리\",\"link\":\"/modern/state\"},{\"text\":\"React 랜더링\",\"link\":\"/modern/render\"},{\"text\":\"Reflow와 Repaint\",\"link\":\"/modern/reflow\"},{\"text\":\"구조 분해 할당\",\"link\":\"/modern/destructure\"},{\"text\":\"서버사이드\",\"link\":\"/modern/serverside\"},{\"text\":\"웹성능지표\",\"link\":\"/modern/web-vitals\"}]},{\"text\":\"FE 적응기\",\"items\":[{\"text\":\"next/image가 문제였다고요?\",\"link\":\"/fe-experience/img\"},{\"text\":\"layout 영향 없이 페이지 만들기\",\"link\":\"/fe-experience/layout\"},{\"text\":\"React Query 로딩 처리\",\"link\":\"/fe-experience/loading\"},{\"text\":\"웹접근성\",\"link\":\"/fe-experience/accessibility\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/min-ji-oh\"}],\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>